
#include "Top.h"

#include "AudioThread.h"



int main()
{
	//Top t();

	AudioDriver audio_driver;
	VolumeControl volume_control;
	/*
	AudioInput audio_input;
	AudioOutput audio_output;
	Leds leds;
	OutputQueue output_queue;
	Preprocessing audio_preprocessor;
	VolumeIO volume_interface;

	audio_driver(),
	volume_control(),
	audio_input(AbstractOS::Thread::PRIORITY_HIGH, "audio input", &audio_driver, &audio_preprocessor),
	audio_output(&audio_driver),
	leds(AbstractOS::Thread::PRIORITY_NORMAL, "leds"),
	output_queue(AbstractOS::Thread::PRIORITY_HIGH, "output queue", &audio_output, &leds),
	audio_preprocessor(AbstractOS::Thread::PRIORITY_LOW, "filter control", &volume_control, &output_queue),
	volume_interface(AbstractOS::Thread::PRIORITY_LOW, "volume control", &volume_control)*/

	/*
	AudioDriver driver;
	if (driver.Init() != XST_SUCCESS) return -1;

	AudioThread audio(Thread::PRIORITY_LOW,
					"AudioThread",
					&driver);
	//AudioInput input(AbstractOS::Thread::PRIORITY_NORMAL, "m", &driver, NULL);
	*/
	vTaskStartScheduler();

	while(1) ;

	return 0;
}
